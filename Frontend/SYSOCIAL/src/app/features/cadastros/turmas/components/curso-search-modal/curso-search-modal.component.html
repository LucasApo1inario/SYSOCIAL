<div class="bg-white rounded-lg shadow-lg p-6">
  <div class="flex items-center justify-between mb-4">
    <h2 class="text-xl font-bold">Selecionar Curso</h2>
    <button z-button zType="ghost" (click)="onClose()">
      Fechar
    </button>
  </div>

  <div class="mb-4">
    <input
      z-input
      type="text"
      placeholder="Pesquisar curso por nome..."
      [value]="searchQuery()"
      (input)="onSearch($event.target.value)"
      zSize="default"
    />
  </div>

  @if (loading()) {
    <div class="flex justify-center items-center h-48">
      <p class="text-gray-500">Carregando cursos...</p>
    </div>
  } @else {
    <div class="overflow-hidden rounded-md border">
      <table z-table class="w-full">
        <thead z-table-header>
          <tr z-table-row>
            <th z-table-head>ID</th>
            <th z-table-head>Nome</th>
            <th z-table-head>Vagas</th>
            <th z-table-head>Ação</th>
          </tr>
        </thead>
        <tbody z-table-body>
          @for (curso of filteredCourses(); track trackById($index, curso)) {
            <tr z-table-row>
              <td z-table-cell>{{ curso.id }}</td>
              <td z-table-cell>{{ curso.nome }}</td>
              <td z-table-cell>{{ curso.vagasRestantes }}/{{ curso.vagasTotais }}</td>
              <td z-table-cell>
                <button
                  z-button
                  zType="default"
                  zSize="sm"
                  type="button"
                  (click)="selectCourse(curso)"
                >
                  Selecionar
                </button>
              </td>
            </tr>
          } @empty {
            <tr z-table-row>
              <td z-table-cell [attr.colspan]="4" class="h-24 text-center text-gray-500">
                Nenhum curso encontrado.
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  }
</div>
